' <auto-generated />
Imports Microsoft.EntityFrameworkCore
Imports Microsoft.EntityFrameworkCore.Infrastructure
Imports Microsoft.EntityFrameworkCore.Metadata
Imports Microsoft.EntityFrameworkCore.Migrations
Imports Microsoft.VisualBasic
Imports Mirage.Core.Database.DbContexts

Namespace Global.Mirage.Core.Database.Migrations
    <DbContext(GetType(MirageDbContext))>
    <Migration("20240409140922_AddCharacterStats")>
    Partial Class AddCharacterStats
        ''' <inheritdoc />
        Protected Overrides Sub BuildTargetModel(modelBuilder As ModelBuilder)
            modelBuilder.HasAnnotation("ProductVersion", "8.0.3")

            modelBuilder.Entity("Mirage.Core.Database.Types.Account",
                Sub(b)
                    b.Property(Of String)("Login").
                        HasColumnType("VARCHAR(255)")

                    b.Property(Of Integer)("Banned").
                        HasColumnType("INTEGER")

                    b.Property(Of String)("Password").
                        HasColumnType("TEXT")

                    b.HasKey("Login")

                    b.ToTable("mirage_worlds_accounts", DirectCast(Nothing, String))
                End Sub)

            modelBuilder.Entity("Mirage.Core.Database.Types.Character",
                Sub(b)
                    b.Property(Of String)("Name").
                        HasColumnType("VARCHAR(255)")

                    b.Property(Of Byte)("Sex").
                        HasColumnType("INTEGER")

                    b.HasKey("Name")

                    b.ToTable("mirage_worlds_characters", DirectCast(Nothing, String))
                End Sub)

            modelBuilder.Entity("Mirage.Core.Database.Types.Character",
                Sub(b)

                    b.OwnsOne("Mirage.Core.Database.Types.Components.Location", "Location",
                        Sub(b1)
                            b1.Property(Of String)("CharacterName").
                                HasColumnType("VARCHAR(255)")

                            b1.Property(Of Byte)("Direction").
                                HasColumnType("INTEGER")

                            b1.Property(Of Integer)("Map").
                                HasColumnType("INTEGER")

                            b1.Property(Of Byte)("X").
                                HasColumnType("INTEGER")

                            b1.Property(Of Byte)("Y").
                                HasColumnType("INTEGER")

                            b1.HasKey("CharacterName")

                            b1.ToTable("mirage_worlds_characters")
                            b1.WithOwner().
                                HasForeignKey("CharacterName")
                        End Sub)

                    b.OwnsOne("Mirage.Core.Database.Types.Components.Vitals", "Vitals",
                        Sub(b1)
                            b1.Property(Of String)("CharacterName").
                                HasColumnType("VARCHAR(255)")

                            b1.Property(Of Integer)("Health").
                                HasColumnType("INTEGER")

                            b1.Property(Of Integer)("Mana").
                                HasColumnType("INTEGER")

                            b1.Property(Of Integer)("Stamina").
                                HasColumnType("INTEGER")

                            b1.HasKey("CharacterName")

                            b1.ToTable("mirage_worlds_characters")
                            b1.WithOwner().
                                HasForeignKey("CharacterName")
                        End Sub)
                    b.Navigation("Location")

                    b.Navigation("Vitals")
                End Sub)
        End Sub
    End Class
End Namespace
